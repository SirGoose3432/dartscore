(this.webpackJsonpdartscore=this.webpackJsonpdartscore||[]).push([[0],{104:function(e,n,t){},105:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t(0),a=t.n(r),o=t(12),i=t.n(o),u=(t(81),t(29)),s=t(14),l=t(9),d=t(10),j=t(139);function b(){var e=Object(l.a)(["\n    background-color: #2adcc4; //#5dce41;\n    color: black;\n    box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);\n    padding: 7px 14px;\n    margin: 10px;\n    &:hover {\n        background-color: #24b39f;\n    }\n"]);return b=function(){return e},e}function f(){var e=Object(l.a)(["\n    background-color: #b989f8; // #6772e5;\n    color: black;\n    box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);\n    padding: 7px 14px;\n    margin: 10px;\n    &:hover {\n        background-color: #9d74d3;\n    }\n"]);return f=function(){return e},e}var O=Object(d.a)(j.a)(f()),h=Object(d.a)(j.a)(b());function p(){var e=Object(l.a)(["\n    text-align: center;\n    background-color: #252525;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    font-size: calc(10px + 2vmin);\n    color: white;\n"]);return p=function(){return e},e}function x(){var e=Object(l.a)(["\n    text-align: center;\n    background-color: #252525;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    font-size: calc(10px + 2vmin);\n    //font-family: 'PressStart2P';\n    font-family: source-code-pro;\n    color: white;\n"]);return x=function(){return e},e}function g(){var e=Object(l.a)(["\n    text-align: center;\n    background-color: #252525;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    font-size: calc(10px + 2vmin);\n    color: white;\n"]);return g=function(){return e},e}var v=d.a.section(g()),m=d.a.section(x()),y=(d.a.section(p()),function(){var e=Object(s.f)(),n=function(n){e.push(n)};return Object(c.jsxs)(v,{children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Dartscore"})}),Object(c.jsx)("div",{children:Object(c.jsx)(O,{onClick:function(){return n("/create")},children:"Create Game"})}),Object(c.jsx)("div",{children:Object(c.jsx)(h,{onClick:function(){return n("/join")},children:"Join Game"})})]})}),S=t(16),k=t(149);function w(){var e=Object(l.a)(["\n    font-size: 18px;\n    padding: 10px;\n    margin: 10px;\n    background: #b6b6b6;\n    border: none;\n    border-radius: 3px;\n    ::placeholder {\n        color: #666666;\n    }\n    text-transform: uppercase;\n"]);return w=function(){return e},e}function C(){var e=Object(l.a)(["\n    /* default */\n    .MuiInput-underline:before {\n        border-bottom: 2px solid #b989f8;\n    }\n    /* hover (double-ampersand needed for specificity reasons. */\n    && .MuiInput-underline:hover:before {\n        border-bottom: 2px solid #9d74d3;\n    }\n    /* focused */\n    .MuiInput-underline:after {\n        border-bottom: 2px solid #2adcc4;\n    }\n    & .MuiInput-root {\n        padding: 10px;\n        margin: 10px;\n        //background: #b6b6b6;\n        color: #b989f8;\n        //border: none;\n    }\n    /* &:hover {\n        background-color: #9d74d3;\n    } */\n    & .MuiInput-underline {\n        color: #b989f8;\n    }\n    //border-color:\n\n    ::placeholder {\n        color: #b989f8;\n    }\n    text-transform: uppercase;\n"]);return C=function(){return e},e}var I=Object(d.a)(k.a)(C()),N=d.a.input(w()),T=t(28),P=t.n(T);P.a.defaults.headers.get["Content-Type"]="application/json";var J="https://iukxdiz252.execute-api.us-east-1.amazonaws.com/dev",_=function(e,n){var t="".concat(J,"/update");return P.a.post(t,{game_id:e,game_state:n}).then((function(e){return e.data})).catch((function(e){return Promise.reject(JSON.stringify(e))}))},D=function(e){var n="".concat(J,"/gamestate?game=").concat(e);return P.a.get(n).then((function(e){return e.data})).catch((function(e){return Promise.reject(JSON.stringify(e))}))},E=t(152),B=t(143),G=function(){var e=Object(s.f)(),n=Object(r.useState)(""),t=Object(S.a)(n,2),a=t[0],o=t[1],i=Object(r.useState)(""),u=Object(S.a)(i,2),l=u[0],d=u[1],j=Object(r.useState)("cricket"),b=Object(S.a)(j,2),f=b[0],O=b[1];Object(r.useEffect)((function(){l||function(){var e="".concat(J,"/generateid");return P.a.get(e).then((function(e){return e.data})).catch((function(e){return Promise.reject(JSON.stringify(e))}))}().then((function(e){var n=e.game_id;l||(d(n),console.log(n))}))}),[l]);var p=function(n){(function(e,n){var t="".concat(J,"/create");return P.a.post(t,{game_id:e,game_type:n}).then((function(e){return e.data})).catch((function(e){return Promise.reject(JSON.stringify(e))}))})(l,f).then((function(){e.push({pathname:n,state:{gameID:l,player:a}})}))};return Object(c.jsxs)(v,{children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Dartscore"})}),Object(c.jsx)("div",{children:Object(c.jsxs)("h2",{children:["Game Code: ",l]})}),Object(c.jsx)("div",{children:Object(c.jsx)("label",{children:"Name"})}),Object(c.jsx)("div",{children:Object(c.jsx)(I,{placeholder:"Enter Your Name",onChange:function(e){return o(e.target.value.toUpperCase())}})}),Object(c.jsx)("div",{children:Object(c.jsxs)(E.a,{value:f,onChange:function(e,n){null!==n&&O(n)},exclusive:!0,children:[Object(c.jsx)(B.a,{value:"cricket",children:"Cricket"}),Object(c.jsx)(B.a,{value:"fiveOhOne",children:"501"})]})}),Object(c.jsx)("div",{children:Object(c.jsx)(h,{onClick:function(){return p("/lobby")},children:"Play"})})]})},R=function(){var e=Object(r.useState)(""),n=Object(S.a)(e,2),t=n[0],a=n[1],o=Object(r.useState)(""),i=Object(S.a)(o,2),u=i[0],l=i[1],d=Object(s.f)();return Object(c.jsxs)(v,{children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Dartscore"})}),Object(c.jsx)("div",{children:Object(c.jsx)("label",{children:"Game Code"})}),Object(c.jsx)("div",{children:Object(c.jsx)(I,{placeholder:"Enter 4-Letter Code",onChange:function(e){return a(e.target.value.toUpperCase())}})}),Object(c.jsx)("div",{children:Object(c.jsx)("label",{children:"Name"})}),Object(c.jsx)("div",{children:Object(c.jsx)(I,{placeholder:"Enter Your Name",onChange:function(e){return l(e.target.value.toUpperCase())}})}),Object(c.jsx)("div",{children:Object(c.jsx)(h,{onClick:function(){return e="/lobby",void d.push({pathname:e,state:{gameID:t,player:u}});var e},children:"Play"})})]})},z=function(){var e=Object(s.g)().state,n=e.gameID,t=e.player,a=Object(r.useState)(""),o=Object(S.a)(a,2),i=o[0],u=o[1],l=Object(r.useState)(""),d=Object(S.a)(l,2),j=d[0],b=d[1],f=Object(r.useState)(""),O=Object(S.a)(f,2),p=O[0],x=O[1],g=Object(r.useState)(""),m=Object(S.a)(g,2),y=m[0],k=m[1],w=Object(r.useState)(!1),C=Object(S.a)(w,2),I=C[0],N=C[1],T=I&&t===p,_=Object(s.f)();Object(r.useEffect)((function(){i&&b("cricket"===i?"Cricket":"501")}),[i]);var D=Object(r.useRef)(),E="wss://cvc7ipmik7.execute-api.us-east-1.amazonaws.com/dev/?game=".concat(n,"&player=").concat(t),B={game_id:n,msg:"I have connected"};Object(r.useEffect)((function(){D.current||(D.current=new WebSocket(E),D.current.onopen=function(){var e;console.log("ws opened"),null===(e=D.current)||void 0===e||e.send(JSON.stringify(B))},D.current.onmessage=function(){I||function(e){var n="".concat(J,"/lobby?game=").concat(e);return P.a.get(n).then((function(e){return e.data})).catch((function(e){return Promise.reject(JSON.stringify(e))}))}(n).then((function(e){var n=e.players,t=e.game_type;u(t),p||(x(n[0].player),console.log(p)),2!==n.length||y||k(n[1].player)}))},D.current.onclose=function(){return console.log("ws closed")})})),Object(r.useEffect)((function(){p&&y&&N(!0)}),[p,y]),Object(r.useEffect)((function(){I&&(D.current.onmessage=function(e){console.log(e),e.data.includes("start")&&G("/game")})}));var G=function(e){_.push({pathname:e,state:{gameID:n,gameType:i,player:t,player1:p,player2:y,connURL:E}})},R={game_id:n,msg:"start"},z=[p,y],L=function(){(function(e,n,t){var c="".concat(J,"/initialize");return P.a.post(c,{game_id:e,players:n,game_type:t}).then((function(e){return e.data})).catch((function(e){return Promise.reject(JSON.stringify(e))}))})(n,z,i).then((function(){var e;null===(e=D.current)||void 0===e||e.send(JSON.stringify(R))}))},M=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(h,{onClick:function(){L()},children:"Play"})})};return Object(c.jsxs)(v,{children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("h1",{children:["Dartscore Lobby: ",n]}),Object(c.jsx)("h1",{children:j})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:p}),Object(c.jsx)("h3",{children:y})]}),T?Object(c.jsx)(M,{}):null]})},L=t(22);var M,U=t(40);function F(e){return function(n){e({type:M.updateGameState,gameState:n})}}function V(){var e=Object(l.a)(["\n    padding: 10px;\n    border-left: 3px solid white;\n    border-right: 3px solid white;\n"]);return V=function(){return e},e}function W(){var e=Object(l.a)(["\n    height: 70px;\n"]);return W=function(){return e},e}function H(){var e=Object(l.a)(["\n    padding: 10px;\n    border-top: 3px solid white;\n"]);return H=function(){return e},e}function Y(){var e=Object(l.a)(["\n    padding: 10px;\n    border-bottom: 3px solid white;\n"]);return Y=function(){return e},e}function q(){var e=Object(l.a)(["\n    border-collapse: collapse;\n    width: 100%;\n"]);return q=function(){return e},e}!function(e){e.updateTargetValueByPlayerId="updateTargetValueByPlayerId",e.updateGameState="updateGameState"}(M||(M={}));var A=d.a.table(q()),K=d.a.th(Y()),Q=d.a.th(H()),X=d.a.tr(W()),Z=d.a.td(V()),$=function(e){var n,t,a=e.gameID,o=e.player,i=e.player1,u=e.player2,s=e.connURL,l=Object(r.useState)(!1),d=Object(S.a)(l,2),j=(d[0],d[1]),b=o===i?u:i,f=(n={},Object(L.a)(n,i,{15:0,16:0,17:0,18:0,19:0,20:0,Total:0,Bull:0}),Object(L.a)(n,u,{15:0,16:0,17:0,18:0,19:0,20:0,Total:0,Bull:0}),t=n,Object(r.useReducer)((function(e,n){switch(n.type){case M.updateTargetValueByPlayerId:var t=e[n.playerId],c=Object(U.a)(Object(U.a)({},e[n.playerId]),{},Object(L.a)({},n.segment,t[n.segment]++));return Object(U.a)(Object(U.a)({},e),{},Object(L.a)({},n.playerId,c));case M.updateGameState:return n.gameState;default:return e}}),t)),O=Object(S.a)(f,2),h=O[0],p=O[1],x=Object(r.useRef)();Object(r.useEffect)((function(){x.current||(x.current=new WebSocket(s),x.current.onopen=function(){console.log("ws opened"),D(a).then((function(e){var n=e.game_state;j(!1),F(p)(n)}))},x.current.onmessage=function(e){console.log(e.data),console.log(!e.data.includes(o)),D(a).then((function(e){var n=e.game_state;j(!1),F(p)(n)}))},x.current.onclose=function(){return console.log("ws closed")})}));var g=function(e){var n=function(e,n,t,c){var r=JSON.parse(JSON.stringify(c));if(r[n][e]++,r[n][e]>3&&r[t][e]<3){var a="Bull"===e?25:parseInt(e);r[n].Total+=a}return r}(e,o,b,h),t={game_id:a,msg:o};console.log("new game state"),console.log(n),_(a,n).then((function(){x.current.send(JSON.stringify(t))}))},v=function(e){return 0===e?"":1===e?"/":2===e?"x":e>=3?" \u24e7 ":void 0};return Object(c.jsx)(A,{children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)(X,{children:[Object(c.jsx)(K,{children:i}),Object(c.jsx)(K,{children:"VS"}),Object(c.jsx)(K,{children:u})]}),["20","19","18","17","16","15","Bull"].map((function(e){return function(e){return Object(c.jsxs)(X,{children:[Object(c.jsx)("td",{children:v(h[i][e])}),Object(c.jsx)(Z,{children:Object(c.jsx)("button",{onClick:function(){g(e),j(!0)},children:e})}),Object(c.jsx)("td",{children:v(h[u][e])})]})}(e)})),Object(c.jsxs)(X,{children:[Object(c.jsx)(Q,{children:h[i].Total}),Object(c.jsx)(Q,{}),Object(c.jsx)(Q,{children:h[u].Total})]})]})})},ee=t(144),ne=t(148),te=t(147),ce=t(145),re=t(146);function ae(){var e=Object(l.a)(["\n    text-align: left;\n"]);return ae=function(){return e},e}function oe(){var e=Object(l.a)(["\n    // pull cricket row out into a separate component\n    height: 300px;\n"]);return oe=function(){return e},e}function ie(){var e=Object(l.a)(["\n    // pull cricket row out into a separate component\n    height: 20px;\n"]);return ie=function(){return e},e}function ue(){var e=Object(l.a)(["\n    padding: 10px;\n    border-bottom: 3px solid white;\n"]);return ue=function(){return e},e}function se(){var e=Object(l.a)(["\n    border-collapse: collapse;\n    width: 100%;\n"]);return se=function(){return e},e}function le(){var e=Object(l.a)(["\n    padding: 40px;\n    font-size: calc(150px + 2vmin);\n"]);return le=function(){return e},e}function de(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    padding: 10px;\n"]);return de=function(){return e},e}function je(){var e=Object(l.a)(["\n    height: 25px;\n    width: 25px;\n    background-color: green;\n    border-radius: 50%;\n    display: inline-block;\n"]);return je=function(){return e},e}function be(){var e=Object(l.a)(["\n    //add legs\n    text-align: center;\n    background-color: #282c34;\n    justify-content: center;\n    display: flex;\n    flex-direction: row;\n    min-height: 50vh;\n    align-items: center;\n    font-size: calc(10px + 2vmin);\n    //font-family: 'PressStart2P';\n    font-family: source-code-pro;\n    color: white;\n"]);return be=function(){return e},e}var fe=d.a.section(be()),Oe=(d.a.span(je()),d.a.section(de())),he=d.a.label(le()),pe=Object(d.a)(ee.a)(se()),xe=Object(d.a)(ce.a)(ue()),ge=Object(d.a)(re.a)(ie()),ve=Object(d.a)(te.a)(oe()),me=(d.a.td(ae()),function(e){var n,t,a=e.gameID,o=e.player,i=e.player1,u=e.player2,s=e.connURL,l=Object(r.useState)(""),d=Object(S.a)(l,2),j=d[0],b=d[1],f=isNaN(Number(j))?0:Number(j),O=Object(r.useState)(!1),h=Object(S.a)(O,2),p=(h[0],h[1]),x=(n={},Object(L.a)(n,i,{Total:0,Moves:[]}),Object(L.a)(n,u,{Total:0,Moves:[]}),t=n,Object(r.useReducer)((function(e,n){switch(n.type){case M.updateGameState:return n.gameState;default:return e}}),t)),g=Object(S.a)(x,2),v=g[0],m=g[1],y=Object(r.useRef)();Object(r.useEffect)((function(){y.current||(y.current=new WebSocket(s),y.current.onopen=function(){console.log("ws opened"),D(a).then((function(e){var n=e.game_state;p(!1),F(m)(n)}))},y.current.onmessage=function(e){console.log(e.data),console.log(!e.data.includes(o)),D(a).then((function(e){var n=e.game_state;p(!1),F(m)(n)}))},y.current.onclose=function(){return console.log("ws closed")})}));var k=function(){if(f){var e=function(e,n,t){var c=JSON.parse(JSON.stringify(t));if([163,166,169,172,173,175,176,178,179].includes(e)||e>180||e<0)return c;var r=c[n].Total-e;return r<0||(c[n].Total=r,c[n].Moves.push(e)),c}(f,o,v),n={game_id:a,msg:o};console.log("new game state"),console.log(e),document.getElementById("score").value="",_(a,e).then((function(){y.current.send(JSON.stringify(n))}))}else document.getElementById("score").value=""},w=function(e){for(var n=[],t=v[e].Moves,r=0;r<t.length;r++)n.push(Object(c.jsxs)(ge,{children:[Object(c.jsx)(ne.a,{children:3*(r+1)}),Object(c.jsx)(ne.a,{children:t[r]})]}));return n.reverse()},C=function(e){if(e===o)return Object(c.jsxs)("div",{children:[Object(c.jsx)(N,{placeholder:"Score",id:"score",onChange:function(e){return b(e.target.value.toUpperCase())}}),Object(c.jsx)("button",{onClick:k,children:"submit"})]})};return Object(c.jsxs)(fe,{children:[Object(c.jsxs)(Oe,{children:[Object(c.jsx)(xe,{children:"Scoreboard"}),Object(c.jsx)(ve,{children:Object(c.jsx)(pe,{stickyHeader:!0,children:w(i)})})]}),Object(c.jsxs)(Oe,{children:[Object(c.jsx)(he,{children:v[i].Total}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:i}),C(i)]})]}),Object(c.jsxs)(Oe,{children:[Object(c.jsx)(he,{children:v[u].Total}),Object(c.jsx)("label",{children:u}),C(u)]}),Object(c.jsxs)(Oe,{children:[Object(c.jsx)(xe,{children:"Scoreboard"}),Object(c.jsx)(ve,{children:Object(c.jsx)(pe,{stickyHeader:!0,children:w(u)})})]})]})}),ye=function(){var e=Object(s.g)().state,n=e.gameID,t=e.gameType,r=e.player,a=e.player1,o=e.player2,i=e.connURL;return"cricket"===t?Object(c.jsxs)(m,{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Cricket"}),Object(c.jsxs)("h3",{children:["Game Code: ",n]})]}),Object(c.jsx)("div",{children:Object(c.jsx)($,{gameID:n,connURL:i,player:r,player1:a,player2:o})})]}):"fiveOhOne"===t?Object(c.jsxs)(m,{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"501"}),Object(c.jsxs)("h3",{children:["Game Code: ",n]})]}),Object(c.jsx)("div",{children:Object(c.jsx)(me,{gameID:n,connURL:i,player:r,player1:a,player2:o})})]}):void 0},Se=t(150),ke=(t(104),function(){return Object(c.jsx)(Se.b,{injectFirst:!0,children:Object(c.jsx)(u.a,{basename:"/dartscore",children:Object(c.jsxs)(s.c,{children:[Object(c.jsx)(s.a,{path:"/",component:y,exact:!0}),Object(c.jsx)(s.a,{path:"/join",component:R,exact:!0}),Object(c.jsx)(s.a,{path:"/create",component:G,exact:!0}),Object(c.jsx)(s.a,{path:"/lobby",render:function(){return Object(c.jsx)(z,{})},exact:!0}),Object(c.jsx)(s.a,{path:"/game",component:ye,exact:!0})]})})})}),we=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,153)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),a(e),o(e)}))};t.p;i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(ke,{})}),document.getElementById("root")),we()},81:function(e,n,t){}},[[105,1,2]]]);
//# sourceMappingURL=main.1529c005.chunk.js.map